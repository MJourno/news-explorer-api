# match-requires [![NPM version](https://img.shields.io/npm/v/match-requires.svg)](https://www.npmjs.com/package/match-requires) [![Build Status](https://img.shields.io/travis/jonschlinkert/match-requires.svg)](https://travis-ci.org/jonschlinkert/match-requires)

> Match require statements in a string. Returns an array of matching require statements. Each match is an object with line number, variable name, and module name. Statements in code comments are ignored.

- [Usage](#usage)
  * [Code comments](#code-comments)
- [Benchmarks](#benchmarks)
- [License](#license)

_(TOC generated by [verb](https://github.com/verbose/verb) using [markdown-toc](https://github.com/jonschlinkert/markdown-toc))_

## Usage

```js
var re = require('match-requires');
console.log(re('require(\'a-b-c\');\nvar fooBar = require(\'foo-bar\');'))
```

Returns:

```js
[ { line: 1,
    variable: '',
    module: 'a-b-c',
    original: 'require(\'a-b-c\');' },
  { line: 2,
    variable: 'fooBar',
    module: 'foo-bar',
    original: 'var fooBar = require(\'foo-bar\');' } ]
```

### Code comments

To ignore require statements found in code comments, pass `true` as the second arg:

```js
re('/* require(\'a-b-c\');*/\nvar fooBar = require(\'foo-bar\');');
```

Returns:

```js
[ { line: 2,
    variable: 'fooBar',
    module: 'foo-bar',
    original: 'var fooBar = require(\'foo-bar\');' } ]
```

You may also pass a custom function for stripping code comments and/or quoted strings.

```js
var str = '/* require(\'a-b-c\');*/\nvar fooBar = require(\'foo-bar\');';
re(str, function(content) {
  return require('my-own-comment-stripper')(content);
});
```

## Benchmarks

See the [generated output](https://gist.github.com/jonschlinkert/ed359fe882a5973ee86e) that each lib produces for each benchmark.

```bash
#1: after-return.js
  crequire.js x 153,480 ops/sec ±0.71% (97 runs sampled)
  detective.js x 55,015 ops/sec ±1.04% (91 runs sampled)
  match-requires.js x 2,439,019 ops/sec ±0.77% (98 runs sampled)

#2: basic.js
  crequire.js x 391,131 ops/sec ±0.63% (96 runs sampled)
  detective.js x 102,594 ops/sec ±0.84% (99 runs sampled)
  match-requires.js x 2,674,151 ops/sec ±0.83% (94 runs sampled)

#3: do-while.js
  crequire.js x 102,220 ops/sec ±0.93% (96 runs sampled)
  detective.js x 41,635 ops/sec ±0.81% (97 runs sampled)
  match-requires.js x 1,535,496 ops/sec ±0.59% (99 runs sampled)

#4: if-statement.js
  crequire.js x 121,816 ops/sec ±0.82% (93 runs sampled)
  detective.js x 43,148 ops/sec ±1.02% (96 runs sampled)
  match-requires.js x 1,750,488 ops/sec ±0.72% (98 runs sampled)

#5: in-method.js
  crequire.js x 268,212 ops/sec ±0.64% (97 runs sampled)
  detective.js x 55,454 ops/sec ±0.98% (96 runs sampled)
  match-requires.js x 2,567,571 ops/sec ±0.77% (95 runs sampled)

#6: multiple.js
  crequire.js x 70,591 ops/sec ±0.54% (96 runs sampled)
  detective.js x 21,315 ops/sec ±0.96% (98 runs sampled)
  match-requires.js x 893,286 ops/sec ±0.77% (96 runs sampled)
```

## Related projects

[requires-regex](https://www.npmjs.com/package/requires-regex): Regular expression for matching javascript require statements. | [homepage](https://github.com/jonschlinkert/requires-regex)

## Running tests

Install dev dependencies:

```sh
$ npm i -d && npm test
```

## Contributing

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/jonschlinkert/match-requires/issues/new).

## Author

**Jon Schlinkert**

* [github/jonschlinkert](https://github.com/jonschlinkert)
* [twitter/jonschlinkert](http://twitter.com/jonschlinkert)

## License

Copyright © 2016 [Jon Schlinkert](https://github.com/jonschlinkert)
Released under the MIT license.

***

_This file was generated by [verb](https://github.com/verbose/verb) on January 08, 2016._